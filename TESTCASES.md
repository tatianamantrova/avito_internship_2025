# Тест-кейсы для API коллекции Avito

## Общие параметры
- **Base URL**: `https://qa-internship.avito.com`
- **Заголовки по умолчанию**: 
  - `Accept: application/json`
  - Для POST: `Content-Type: application/json`
 
## 1. Создание объявления (POST /api/1/item)

### 1.1 Корректное создание объявления

**Приоритет**: High

**Предусловия**: -

**Тестовые данные**:

```
{
    "name": "Тест",
    "price": 1000,
    "sellerId": 135642,
    "statistics": {
        "contacts": 0,
        "likes": 0,
        "viewCount": 0
    }
}
```

**Шаги выполнения**:
1. Отправить POST запрос с валидными данными

**Ожидаемый результат**:

HTTP status code - 200  

### 1.2 Отсутствие обязательных полей

**Приоритет**: High

**Предусловия**: -

**Тестовые данные**:

1. отстутствие sellerId:
```
{
  "name": "тест2",
  "price": 100,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
2. отстутствие name:
```
{
  "sellerId": 123435,
  "price": 100,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
3. отстутствие price:
```
{
  "sellerId": 876402,
  "name": "тест3",
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
4. отстутствие statistics:
```
{
  "sellerId": 764890,
  "name": "тест4",
  "price": 100
}
```
5. отстутствие двух и более полей:
```
{
  "sellerId": 764378,
}
```
6. отстутствие всех полей:
```
{ }
```

**Шаги выполнения**:
1. Отправить POST поочередно с одним из типов тестовых данных

**Ожидаемый результат**:

HTTP status code - 400  
Схема тела ответа сервера:

```
{
  "result": {
    "messages": {
      "culpa_b92": "<string>",
      "enim_24f": "<string>",
      "mollit_aa": "<string>"
    },
    "message": "<string>"
  },
  "status": "<string>"
}
```

### 1.3 Передача некорректных полей при создании объекта

**Приоритет**: High

**Предусловия**: -

**Тестовые данные**:

1. некорректный sellerId (не в диапозоне 111111-999999):
```
{
  "sellerId": 123,
  "name": "тест4",
  "price": 100,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
2. отрицательное значение price:
```
{
  "sellerId": 123820,
  "name": "тест4",
  "price": -100,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
3. пустое name:
```
{
  "sellerId": 123820,
  "name": "",
  "price": 100,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
4. отрицательное значение likes:
```
{
  "sellerId": 123820,
  "name": "тест5",
  "price": 100,
  "statistics": {
    "likes": -2,
    "viewCount": 0,
    "contacts": 0
  }
}
```
5. отрицательное значение viewCount:
```
{
  "sellerId": 123820,
  "name": "тест5",
  "price": 100,
  "statistics": {
    "likes": 0,
    "viewCount": -3,
    "contacts": 0
  }
}
```
6. отрицательное значение contacts:
```
{
  "sellerId": 123820,
  "name": "тест5",
  "price": 100,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": -6
  }
}
```
**Шаги выполнения**:
1. Отправить POST поочередно с одним из типов тестовых данных

**Ожидаемый результат**:

HTTP status code - 400  
Схема тела ответа сервера:

```
{
  "result": {
    "messages": {
      "culpa_b92": "<string>",
      "enim_24f": "<string>",
      "mollit_aa": "<string>"
    },
    "message": "<string>"
  },
  "status": "<string>"
}
```
### 1.4 Передача большого значения в поле price (больше 19 символов) при создании объекта

**Приоритет**: Medium

**Предусловия**: -

**Тестовые данные**:
```
{
  "sellerId": 123820,
  "name": "тест6",
  "price": 100000000000000000000,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
**Шаги выполнения**:
1. Отправить POST поочередно с одним из типов тестовых данных

**Ожидаемый результат**:

HTTP status code - 400  
Схема тела ответа сервера:

```
{
  "result": {
    "messages": { },
    "message": "<string>"
  },
  "status": "<string>"
}
```
### 1.5 Передача строкового значения в поля при создании объекта

**Приоритет**: Medium

**Предусловия**: -

**Тестовые данные**:

1. некорректный sellerId (строковое значение):
```
{
  "sellerId": "Ошибка",
  "name": "тест4",
  "price": 100,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
2. некорректный price (строковое значение):
```
{
  "sellerId": 589054,
  "name": "тест4",
  "price": "3456",
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```
3. некорректный likes (строковое значение):
```
{
  "sellerId": 589054,
  "name": "тест4",
  "price": 3456,
  "statistics": {
    "likes": "55",
    "viewCount": 0,
    "contacts": 0
  }
}
```
4. некорректный viewCount (строковое значение):
```
{
  "sellerId": 589054,
  "name": "тест4",
  "price": 3456,
  "statistics": {
    "likes": 55,
    "viewCount": "44",
    "contacts": 0
  }
}
```
5. некорректный contacts (строковое значение):
```
{
  "sellerId": 589054,
  "name": "тест4",
  "price": 3456,
  "statistics": {
    "likes": 55,
    "viewCount": 44,
    "contacts": "aa"
  }
}
```
**Шаги выполнения**:
1. Отправить POST поочередно с одним из типов тестовых данных

**Ожидаемый результат**:

HTTP status code - 400  
Схема тела ответа сервера:

```
{
  "result": {
    "messages": { },
    "message": "<string>"
  },
  "status": "<string>"
}
```

## 2. Получение объявления по ID (GET /api/1/item/:id)

### 2.1 Получение существующего объявления

**Приоритет**: High

**Предусловия**: Объявление с id = bab60505-6fdf-488b-aa51-7afd084e0a88 существует

**Тестовые данные**: id = bab60505-6fdf-488b-aa51-7afd084e0a88

**Шаги выполнения**:
1. Отправить GET запрос на /api/1/item/bab60505-6fdf-488b-aa51-7afd084e0a88

**Ожидаемый результат**:

HTTP status code - 200  
Схема тела ответа сервера:

```
{
    "id": "<string>",
    "sellerId": "<integer>",
    "name": "<string>",
    "price": "<integer>",
    "statistics": {
      "likes": "<integer>",
      "viewCount": "<integer>",
      "contacts": "<integer>"
    },
    "createdAt": "<string>"
}
```

### 2.2 Запрос несуществующего объявления

**Приоритет**: High

**Предусловия**: -

**Тестовые данные**: id =	bab60505-6fdf-488b-aa51-7afd084e0a89

**Шаги выполнения**:
1. Отправить GET запрос на /api/1/item/bab60505-6fdf-488b-aa51-7afd084e0a89

**Ожидаемый результат**:

HTTP status code - 404
Тело ответа сервера:

```
{
  "result": "not found",
  "status": "Нет объекта с данным id"
}
```

### 2.3 Отправка некорректного формата id объявления

**Приоритет**: High

**Предусловия**: -

**Тестовые данные**: id =	bab60505

**Шаги выполнения**:
1. Отправить GET запрос на /api/1/item/bab60505

**Ожидаемый результат**:

HTTP status code - 400
Схема тела ответа сервера:

```
{
  "result": {
    "messages": {},
    "message": "<string>"
  },
  "status": "<string>"
}
```

### 2.4 Отправка пустого id объявления

**Приоритет**: High

**Предусловия**: -

**Тестовые данные**: id = null

**Шаги выполнения**:
1. Отправить GET запрос на /api/1/item/

**Ожидаемый результат**:

HTTP status code - 400
Схема тела ответа сервера:

```
{
  "result": {
    "messages": {},
    "message": "<string>"
  },
  "status": "<string>"
}
```

## 3. Получение объявлений по sellerID (GET /api/1/:sellerID/item)

### 3.1 Получение объявлений по существующему sellerID

**Приоритет**: High

**Предусловия**: -

**Тестовые данные**:

1. sellerID = 30000
2. sellerID = 1
3. sellerID = 2

**Шаги выполнения**:
1. Отправить GET запрос на /api/1/30000/item
2. Отправить GET запрос на /api/1/1/item
3. Отправить GET запрос на /api/1/2/item

**Ожидаемый результат**:

HTTP status code - 200 
Возвращается массив с объектами, у которых sellerID равен тому что был передан в запросе

### 3.2 Получение объявлений по несуществующему sellerID

**Приоритет**: High

**Предусловия**: sellerID = 36 не существует 

**Тестовые данные**:

sellerID = 36

**Шаги выполнения**:
1. Отправить GET запрос на /api/1/36/item

**Ожидаемый результат**:

HTTP status code - 200 
Возвращается пустой массив

### 3.3 Получение объявлений по невалидному sellerID

**Приоритет**: High

**Предусловия**: sellerID должен состоять из цифр 

**Тестовые данные**:

sellerID = aaa

**Шаги выполнения**:
1. Отправить GET запрос на /api/1/aaa/item

**Ожидаемый результат**:

HTTP status code - 400 
Схема тела ответа сервера:
```
{
  "result": {
    "messages": { },
    "message": "<string>"
  },
  "status": "<string>"
}
```
## 4. Получение статистики по id объявления (GET /api/1/statistic/:id)

### 4.1 Получение статистики по существующему id объявления

**Приоритет**: High

**Предусловия**: id = bab60505-6fdf-488b-aa51-7afd084e0a88 существует

**Тестовые данные**:

1. id = bab60505-6fdf-488b-aa51-7afd084e0a88

**Шаги выполнения**:
1. Отправить GET запрос на /api/1/statistic/bab60505-6fdf-488b-aa51-7afd084e0a88

**Ожидаемый результат**:

HTTP status code - 200 
Тело ответа сервера:
```
[
  {
    "likes": 0,
    "viewCount": 10,
    "contacts": 10
  }
]
```

### 4.2 Получение статистики по НЕ существующему id объявления

**Приоритет**: High

**Предусловия**: id = bab60505-6fdf-488b-aa51-7afd084e0a89 НЕ существует

**Тестовые данные**:

1. id = bab60505-6fdf-488b-aa51-7afd084e0a89

**Шаги выполнения**:
1. Отправить GET запрос на /api/1/statistic/bab60505-6fdf-488b-aa51-7afd084e0a89

**Ожидаемый результат**:

HTTP status code - 404 
Тело ответа сервера:
```
{
  "result": "Данного id = bab60505-6fdf-488b-aa51-7afd084e0a89 не существует",
  "status": "Not found"
}
```

### 4.3 Получение статистики по НЕ валидному id объявления

**Приоритет**: High

**Предусловия**: id = bab60505 НЕ валидный

**Тестовые данные**:

1. id = bab60505

**Шаги выполнения**:
1. Отправить GET запрос на /api/1/statistic/bab60505

**Ожидаемый результат**:

HTTP status code - 400 
Схема тела ответа сервера:
```
{
  "result": {
    "messages": {},
    "message": "<string>"
  },
  "status": "<string>"
}
```

## 5. Удаление объявления по id (DELETE /api/2/item/:id)

### 5.1 Удаление объявления по существующему id

**Приоритет**: High

**Предусловия**: Взять существующий id, напримерб id = 6c67fabb-b84c-4dfd-a0fa-e9a1c897a50b

**Тестовые данные**:

1. id = 6c67fabb-b84c-4dfd-a0fa-e9a1c897a50b

**Шаги выполнения**:
1. Отправить DELETE запрос на /api/2/item/6c67fabb-b84c-4dfd-a0fa-e9a1c897a50b

**Ожидаемый результат**:

HTTP status code - 200

### 5.2 Удаление объявления по НЕсуществующему id

**Приоритет**: High

**Предусловия**: id = 6c67fabb-b84c-4dfd-a0fa-e9a1c897a511 НЕ существует

**Тестовые данные**:

1. id = 6c67fabb-b84c-4dfd-a0fa-e9a1c897a511

**Шаги выполнения**:
1. Отправить DELETE запрос на /api/2/item/6c67fabb-b84c-4dfd-a0fa-e9a1c897a511

**Ожидаемый результат**:

HTTP status code - 404 

### 5.3 Удаление объявления по НЕ корректному id

**Приоритет**: High

**Предусловия**: id = 6c67fabb НЕ корректный

**Тестовые данные**:

1. id = 6c67fabb

**Шаги выполнения**:
1. Отправить DELETE запрос на /api/2/item/6c67fabb

**Ожидаемый результат**:

HTTP status code - 400

Схема тела ответа сервера
```
{
    "result": {
        "message": "переданный id айтема некорректный",
        "messages": {}
    },
    "status": "400"
}
```
## 6. Получение статистики по id объявления (GET /api/2/statistic/:id)

### 6.1 Получение статистики объявления по существующему id

**Приоритет**: High

**Предусловия**: id = 6c67fabb-b84c-4dfd-a0fa-e9a1c897a50b существует

**Тестовые данные**:

1. id = 6c67fabb-b84c-4dfd-a0fa-e9a1c897a50b

**Шаги выполнения**:
1. Отправить GET запрос на /api/2/statistic/6c67fabb-b84c-4dfd-a0fa-e9a1c897a50b


**Ожидаемый результат**:

HTTP status code - 200 
Тело ответа сервера:
```
[
  {
    "likes": 0,
    "viewCount": 2,
    "contacts": 2
  }
]
```

### 6.2 Получение статистики объявления по НЕсуществующему id

**Приоритет**: High

**Предусловия**: id = bab60505-6fdf-488b-aa51-7afd084e0a89 НЕ существует

**Тестовые данные**:

1. id = bab60505-6fdf-488b-aa51-7afd084e0a89

**Шаги выполнения**:
1. Отправить GET запрос на /api/1/statistic/bab60505-6fdf-488b-aa51-7afd084e0a89

**Ожидаемый результат**:

HTTP status code - 404 
Тело ответа сервера:
```
{
  "result": "Данного id = bab60505-6fdf-488b-aa51-7afd084e0a89 не существует",
  "status": "Not found"
}
```

### 6.3 Получение статистики объявления по НЕ валидному id

**Приоритет**: High

**Предусловия**: id = bab60505 НЕ валидный

**Тестовые данные**:

1. id = bab60505

**Шаги выполнения**:
1. Отправить GET запрос на /api/2/statistic/bab60505

**Ожидаемый результат**:

HTTP status code - 400 
Схема тела ответа сервера:
```
{
  "result": {
    "messages": {},
    "message": "<string>"
  },
  "status": "<string>"
}
```
